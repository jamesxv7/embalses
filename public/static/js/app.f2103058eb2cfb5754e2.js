webpackJsonp([1,2],{11:function(t,e,s){s(45);var r=s(7)(s(14),s(55),null,null);t.exports=r.exports},14:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(52),a=s.n(r),i=s(53),o=s.n(i),n=s(49),l=s.n(n),c={databaseURL:"https://data-embalses-pr.firebaseio.com"};l.a.initializeApp(c);var u=l.a.database();e.default={name:"app",props:{data:[]},components:{Embalse:a.a,CustomFooter:o.a},firebase:{embalses:u.ref("/v1/embalse/siteID/")}}},15:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(17),a=s.n(r);e.default={props:{data:Array},data:function(){var t={city:1,currentLevel:1,status:1};return{embalses:this.data,sortKey:"city",filterString:"",sortOrders:t}},computed:{filteredItems:function(){var t=this.embalses,e=this.sortKey,s=this.sortOrders[e]||1,r=this.filterString&&this.filterString.toLowerCase();return r&&(t=t.filter(function(t){return a()(t).some(function(e){return String(t[e]).toLowerCase().indexOf(r)>-1})})),t=t.slice().sort(function(t,r){return t=t[e],r=r[e],(t===r?0:t>r?1:-1)*s}),t.forEach(function(t){t.hasOwnProperty("overflowLevel")||t.hasOwnProperty("secureLevel")||t.hasOwnProperty("observationLevel")||t.hasOwnProperty("adjustmentLevel")||t.hasOwnProperty("controlLevel")?t.currentLevel>=t.overflowLevel?t.status="a_overflow":t.currentLevel>=t.secureLevel?t.status="b_secure":t.currentLevel>=t.observationLevel?t.status="c_observation":t.currentLevel>=t.adjustmentLevel?t.status="d_adjustment":t.currentLevel>=t.controlLevel?t.status="e_control":t.status="f_off":t.status="g_none"}),t}},methods:{sortBy:function(t){this.sortKey!==t&&(this.sortOrders[t]=-1),this.sortKey=t,this.sortOrders[t]=this.sortOrders[t]*-1},formatDate:function(t){if(void 0!==t){var e=new Date((t||"").replace(/-/g,"/").replace(/[TZ]/g," ")),s=((new Date).getTime()-e.getTime())/1e3,r=Math.floor(s/86400),a=e.getFullYear(),i=e.getMonth()+1,o=e.getDate();if(isNaN(r)||r<0)return(i<10?"0"+i.toString():i.toString())+"/"+(o<10?"0"+o.toString():o.toString())+"/"+a.toString();var n="Hace ";return 0===r&&(s<60&&"justo ahora"||s<120&&n+"1 minuto"||s<3600&&n+Math.floor(s/60)+" minutos"||s<7200&&n+"1 hora"||s<86400&&n+Math.floor(s/3600)+" horas")||1===r&&"Ayer"||r<7&&n+r+" dias"||r<31&&n+Math.ceil(r/7)+" semanas"||r>=31&&n+Math.ceil(r/31)+" meses"}return"N/A"},indicator:function(t,e){return t>e?"glyphicon-circle-arrow-up":t<e?"glyphicon-circle-arrow-down":"glyphicon-record"}},filters:{toDecimal:function(t){return parseFloat(t).toFixed(2)}}}},16:function(t,e){},44:function(t,e){},45:function(t,e){},46:function(t,e){},52:function(t,e,s){s(44);var r=s(7)(s(15),s(54),null,null);t.exports=r.exports},53:function(t,e,s){s(46);var r=s(7)(s(16),s(56),null,null);t.exports=r.exports},54:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{attrs:{id:"search"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterString,expression:"filterString"}],staticClass:"form-control",attrs:{placeholder:"Filtrar información...",name:"q"},domProps:{value:t.filterString},on:{input:function(e){e.target.composing||(t.filterString=e.target.value)}}})]),t._v(" "),s("div",{attrs:{id:"sort"}},[s("div",{staticClass:"btn-group btn-group-justified",attrs:{role:"group"}},[s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.sortBy("city")}}},[t._v("Pueblo"),s("span",{staticClass:"glyphicon",class:{active:"city"==t.sortKey,"glyphicon-triangle-bottom":t.sortOrders.city<0,"glyphicon-triangle-top":t.sortOrders.city>0}})])]),t._v(" "),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.sortBy("currentLevel")}}},[t._v("Nivel"),s("span",{staticClass:"glyphicon",class:{active:"currentLevel"==t.sortKey,"glyphicon-triangle-bottom":t.sortOrders.currentLevel<0,"glyphicon-triangle-top":t.sortOrders.currentLevel>0}})])]),t._v(" "),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.sortBy("status")}}},[t._v("Status"),s("span",{staticClass:"glyphicon",class:{active:"status"==t.sortKey,"glyphicon-triangle-bottom":t.sortOrders.status<0,"glyphicon-triangle-top":t.sortOrders.status>0}})])])])]),t._v(" "),s("div",{staticClass:"list-group"},t._l(t.filteredItems,function(e,r){return s("div",{staticClass:"list-group-item"},[s("div",{staticClass:"row",attrs:{id:e[".key"]}},[s("div",{class:e.status}),t._v(" "),s("div",{staticClass:"col-xs-6"},[s("p",{staticClass:"list-group-item-text"},[t._v(t._s(e.city))]),t._v(" "),s("h4",{staticClass:"list-group-item-heading"},[t._v(t._s(e.name))])]),t._v(" "),s("div",{staticClass:"col-xs-6 text-right"},[s("p",{staticClass:"list-group-item-text"},[t._v(t._s(t.formatDate(e.currentLevelTime)))]),t._v(" "),s("div",{staticClass:"indicator-and-level"},[s("span",{class:"glyphicon "+t.indicator(e.currentLevel,e.last8HoursLevel)}),t._v(" "),s("h2",{staticClass:"list-group-item-heading"},[t._v(t._s(t._f("toDecimal")(e.currentLevel)))])])])])])}))])},staticRenderFns:[]}},55:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"main-content"},[s("Embalse",{attrs:{data:t.embalses}})],1),t._v(" "),s("CustomFooter")],1)},staticRenderFns:[]}},56:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"footer"},[s("div",{staticClass:"col-xs-6"},[t._v("\n      © "+t._s((new Date).getFullYear())+" "),s("a",{attrs:{href:"http://www.jaimeolmo.com"}},[t._v("Jaime Olmo")]),t._v(" — Hecho en "),s("a",{attrs:{href:"http://www.seepuertorico.com/"}},[t._v("Puerto Rico")])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"legend"}},[s("h4",[t._v("Leyenda")]),t._v(" "),s("span",{staticClass:"title"},[t._v("Niveles de Alerta")]),t._v(" "),s("span",[s("div",{staticClass:"overflow"}),t._v("Desborde")]),t._v(" "),s("span",[s("div",{staticClass:"secure"}),t._v("Seguridad")]),t._v(" "),s("span",[s("div",{staticClass:"observation"}),t._v("Observación")]),t._v(" "),s("span",[s("div",{staticClass:"adjustment"}),t._v("Ajustes Operacionales")]),t._v(" "),s("span",[s("div",{staticClass:"control"}),t._v("Control")]),t._v(" "),s("span",[s("div",{staticClass:"off"}),t._v("Fuera de Servicio")]),t._v(" "),s("span",[s("div",{staticClass:"none"}),t._v("Desconocido")]),t._v(" "),s("span",{staticClass:"title"},[t._v("Indicadores de cambio "),s("small",[t._v("(basados en el nivel hace 8 horas atrás)")])]),t._v(" "),s("span",[s("div",{staticClass:"glyphicon glyphicon-circle-arrow-up"}),t._v("Aumento de nivel")]),t._v(" "),s("span",[s("div",{staticClass:"glyphicon glyphicon-circle-arrow-down"}),t._v("Descenso de nivel")]),t._v(" "),s("span",[s("div",{staticClass:"glyphicon glyphicon-record"}),t._v("No hubo cambio de nivel")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xs-6 text-right"},[t._v("\n      Fork me y colabora "),s("a",{attrs:{href:"https://github.com/jamesxv7/embalses"}},[s("img",{attrs:{alt:"Fork me y colabora",src:"GitHub-Mark.png"}})])])}]}},58:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(12),a=s(11),i=s.n(a),o=s(13),n=s.n(o);r.a.use(n.a),r.a.config.productionTip=!1,new r.a({el:"#app",template:"<App/>",components:{App:i.a}})}},[58]);
//# sourceMappingURL=app.f2103058eb2cfb5754e2.js.map